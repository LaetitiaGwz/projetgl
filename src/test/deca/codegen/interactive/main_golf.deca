#include "grid.deca"
#include "Math.decah"

class Calc {
	Position calculatePosition(Position old_pos, int angle, int power) {
		Position pos = new Position();
		Math m = new Math();
		int x = (int) (power*m.cos((float)(angle)));
		int y = (int) (power*m.sin((float)(angle)));
		pos.setPosition(x, y);
	}
}

{
	Grid g = new Grid();
	int angle, power;
	Position new_pos;
	Calc c = new Calc();
	boolean outOfGrid = false;

	g.display();

	while(g.ballInHole()) {
		println("Angle de lancer ?");
		angle = readInt();
		println("Puissance de lancer ?");
		power = readInt();

		new_pos = c.calculatePosition(g.getBallPosition(), angle, power);
		outOfGrid = g.setBallPosition(new_pos);

		g.display();
	}

	println("C'est gagn√© !! ;)");
}